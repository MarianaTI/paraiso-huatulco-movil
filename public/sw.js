(()=>{importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js"),workbox.precaching.precacheAndRoute([{'revision':null,'url':'/'},{'revision':null,'url':'/1/'},{'revision':null,'url':'/100/'},{'revision':null,'url':'/101/'},{'revision':null,'url':'/102/'},{'revision':null,'url':'/103/'},{'revision':null,'url':'/104/'},{'revision':null,'url':'/105/'},{'revision':null,'url':'/106/'},{'revision':null,'url':'/107/'},{'revision':null,'url':'/108/'},{'revision':null,'url':'/109/'},{'revision':null,'url':'/11/'},{'revision':null,'url':'/110/'},{'revision':null,'url':'/111/'},{'revision':null,'url':'/112/'},{'revision':null,'url':'/113/'},{'revision':null,'url':'/114/'},{'revision':null,'url':'/115/'},{'revision':null,'url':'/117/'},{'revision':null,'url':'/119/'},{'revision':null,'url':'/12/'},{'revision':null,'url':'/121/'},{'revision':null,'url':'/123/'},{'revision':null,'url':'/125/'},{'revision':null,'url':'/127/'},{'revision':null,'url':'/13/'},{'revision':null,'url':'/130/'},{'revision':null,'url':'/133/'},{'revision':null,'url':'/134/'},{'revision':null,'url':'/135/'},{'revision':null,'url':'/138/'},{'revision':null,'url':'/142/'},{'revision':null,'url':'/144/'},{'revision':null,'url':'/147/'},{'revision':null,'url':'/15/'},{'revision':null,'url':'/150/'},{'revision':null,'url':'/151/'},{'revision':null,'url':'/152/'},{'revision':null,'url':'/153/'},{'revision':null,'url':'/155/'},{'revision':null,'url':'/157/'},{'revision':null,'url':'/159/'},{'revision':null,'url':'/160/'},{'revision':null,'url':'/161/'},{'revision':null,'url':'/162/'},{'revision':null,'url':'/164/'},{'revision':null,'url':'/166/'},{'revision':null,'url':'/168/'},{'revision':null,'url':'/17/'},{'revision':null,'url':'/170/'},{'revision':null,'url':'/172/'},{'revision':null,'url':'/174/'},{'revision':null,'url':'/175/'},{'revision':null,'url':'/176/'},{'revision':null,'url':'/178/'},{'revision':null,'url':'/180/'},{'revision':null,'url':'/182/'},{'revision':null,'url':'/184/'},{'revision':null,'url':'/186/'},{'revision':null,'url':'/187/'},{'revision':null,'url':'/189/'},{'revision':null,'url':'/191/'},{'revision':null,'url':'/193/'},{'revision':null,'url':'/195/'},{'revision':null,'url':'/198/'},{'revision':null,'url':'/20/'},{'revision':null,'url':'/200/'},{'revision':null,'url':'/203/'},{'revision':null,'url':'/204/'},{'revision':null,'url':'/205/'},{'revision':null,'url':'/208/'},{'revision':null,'url':'/209/'},{'revision':null,'url':'/21/'},{'revision':null,'url':'/210/'},{'revision':null,'url':'/212/'},{'revision':null,'url':'/213/'},{'revision':null,'url':'/215/'},{'revision':null,'url':'/216/'},{'revision':null,'url':'/218/'},{'revision':null,'url':'/22/'},{'revision':null,'url':'/220/'},{'revision':null,'url':'/222/'},{'revision':null,'url':'/223/'},{'revision':null,'url':'/224/'},{'revision':null,'url':'/225/'},{'revision':null,'url':'/226/'},{'revision':null,'url':'/229/'},{'revision':null,'url':'/231/'},{'revision':null,'url':'/233/'},{'revision':null,'url':'/235/'},{'revision':null,'url':'/240/'},{'revision':null,'url':'/242/'},{'revision':null,'url':'/244/'},{'revision':null,'url':'/245/'},{'revision':null,'url':'/246/'},{'revision':null,'url':'/247/'},{'revision':null,'url':'/248/'},{'revision':null,'url':'/249/'},{'revision':null,'url':'/25/'},{'revision':null,'url':'/250/'},{'revision':null,'url':'/251/'},{'revision':null,'url':'/253/'},{'revision':null,'url':'/254/'},{'revision':null,'url':'/255/'},{'revision':null,'url':'/256/'},{'revision':null,'url':'/257/'},{'revision':null,'url':'/258/'},{'revision':null,'url':'/259/'},{'revision':null,'url':'/260/'},{'revision':null,'url':'/261/'},{'revision':null,'url':'/262/'},{'revision':null,'url':'/263/'},{'revision':null,'url':'/264/'},{'revision':null,'url':'/265/'},{'revision':null,'url':'/266/'},{'revision':null,'url':'/267/'},{'revision':null,'url':'/268/'},{'revision':null,'url':'/269/'},{'revision':null,'url':'/270/'},{'revision':null,'url':'/271/'},{'revision':null,'url':'/272/'},{'revision':null,'url':'/273/'},{'revision':null,'url':'/274/'},{'revision':null,'url':'/275/'},{'revision':null,'url':'/276/'},{'revision':null,'url':'/277/'},{'revision':null,'url':'/278/'},{'revision':null,'url':'/279/'},{'revision':null,'url':'/28/'},{'revision':null,'url':'/280/'},{'revision':null,'url':'/281/'},{'revision':null,'url':'/282/'},{'revision':null,'url':'/283/'},{'revision':null,'url':'/284/'},{'revision':null,'url':'/285/'},{'revision':null,'url':'/286/'},{'revision':null,'url':'/287/'},{'revision':null,'url':'/288/'},{'revision':null,'url':'/289/'},{'revision':null,'url':'/290/'},{'revision':null,'url':'/291/'},{'revision':null,'url':'/292/'},{'revision':null,'url':'/293/'},{'revision':null,'url':'/294/'},{'revision':null,'url':'/295/'},{'revision':null,'url':'/296/'},{'revision':null,'url':'/297/'},{'revision':null,'url':'/298/'},{'revision':null,'url':'/299/'},{'revision':null,'url':'/30/'},{'revision':null,'url':'/300/'},{'revision':null,'url':'/301/'},{'revision':null,'url':'/302/'},{'revision':null,'url':'/31/'},{'revision':null,'url':'/32/'},{'revision':null,'url':'/35/'},{'revision':null,'url':'/36/'},{'revision':null,'url':'/38/'},{'revision':null,'url':'/4/'},{'revision':null,'url':'/41/'},{'revision':null,'url':'/44/'},{'revision':null,'url':'/45/'},{'revision':null,'url':'/46/'},{'revision':null,'url':'/47/'},{'revision':null,'url':'/48/'},{'revision':null,'url':'/5/'},{'revision':null,'url':'/50/'},{'revision':null,'url':'/54/'},{'revision':null,'url':'/55/'},{'revision':null,'url':'/56/'},{'revision':null,'url':'/57/'},{'revision':null,'url':'/58/'},{'revision':null,'url':'/59/'},{'revision':null,'url':'/60/'},{'revision':null,'url':'/61/'},{'revision':null,'url':'/62/'},{'revision':null,'url':'/63/'},{'revision':null,'url':'/64/'},{'revision':null,'url':'/65/'},{'revision':null,'url':'/66/'},{'revision':null,'url':'/67/'},{'revision':null,'url':'/68/'},{'revision':null,'url':'/69/'},{'revision':null,'url':'/7/'},{'revision':null,'url':'/70/'},{'revision':null,'url':'/71/'},{'revision':null,'url':'/72/'},{'revision':null,'url':'/74/'},{'revision':null,'url':'/76/'},{'revision':null,'url':'/78/'},{'revision':null,'url':'/79/'},{'revision':null,'url':'/80/'},{'revision':null,'url':'/81/'},{'revision':null,'url':'/82/'},{'revision':null,'url':'/83/'},{'revision':null,'url':'/84/'},{'revision':null,'url':'/85/'},{'revision':null,'url':'/86/'},{'revision':null,'url':'/87/'},{'revision':null,'url':'/88/'},{'revision':null,'url':'/89/'},{'revision':null,'url':'/9/'},{'revision':null,'url':'/90/'},{'revision':null,'url':'/91/'},{'revision':null,'url':'/92/'},{'revision':null,'url':'/93/'},{'revision':null,'url':'/94/'},{'revision':null,'url':'/95/'},{'revision':null,'url':'/96/'},{'revision':null,'url':'/97/'},{'revision':null,'url':'/98/'},{'revision':null,'url':'/99/'},{'revision':'4e4209ea0fc171d4','url':'/_next/static/chunks/100.4e4209ea0fc171d4.js'},{'revision':'268c8c590d7f2802','url':'/_next/static/chunks/57.268c8c590d7f2802.js'},{'revision':'4030eef478beb991','url':'/_next/static/chunks/629-4030eef478beb991.js'},{'revision':'9ada1abd405715db','url':'/_next/static/chunks/7ddb3757-9ada1abd405715db.js'},{'revision':'470da5ce1fd0b313','url':'/_next/static/chunks/827-470da5ce1fd0b313.js'},{'revision':'5428f6615ed3c68a','url':'/_next/static/chunks/916-5428f6615ed3c68a.js'},{'revision':'00615d8805215fda','url':'/_next/static/chunks/a7e16ef1-00615d8805215fda.js'},{'revision':'0051b98db4e6bc99','url':'/_next/static/chunks/cc997884-0051b98db4e6bc99.js'},{'revision':'2f335d22a7318891','url':'/_next/static/chunks/framework-2f335d22a7318891.js'},{'revision':'6489e7a006a1a3fa','url':'/_next/static/chunks/main-6489e7a006a1a3fa.js'},{'revision':'b7f0c5779bc979f9','url':'/_next/static/chunks/pages/%5Bid%5D-b7f0c5779bc979f9.js'},{'revision':'643cd6222c471ab5','url':'/_next/static/chunks/pages/_app-643cd6222c471ab5.js'},{'revision':'b41dbd85229d9331','url':'/_next/static/chunks/pages/_error-b41dbd85229d9331.js'},{'revision':'700b94835aa1ffc4','url':'/_next/static/chunks/pages/about-us-700b94835aa1ffc4.js'},{'revision':'49735f3e59b40fdf','url':'/_next/static/chunks/pages/agency-49735f3e59b40fdf.js'},{'revision':'0b428823b69238b3','url':'/_next/static/chunks/pages/booking-0b428823b69238b3.js'},{'revision':'c81963a6d591431b','url':'/_next/static/chunks/pages/calendar-c81963a6d591431b.js'},{'revision':'b48023208c715da9','url':'/_next/static/chunks/pages/confirmation-b48023208c715da9.js'},{'revision':'c0782696bddd6d81','url':'/_next/static/chunks/pages/disponibilidad-c0782696bddd6d81.js'},{'revision':'66ca755f89e64d1f','url':'/_next/static/chunks/pages/home-66ca755f89e64d1f.js'},{'revision':'5e613cc020977f3e','url':'/_next/static/chunks/pages/index-5e613cc020977f3e.js'},{'revision':'84a7c17bc615714d','url':'/_next/static/chunks/pages/rent-84a7c17bc615714d.js'},{'revision':'972e1185b8aa9476','url':'/_next/static/chunks/pages/report-972e1185b8aa9476.js'},{'revision':'67227eeb5d711451','url':'/_next/static/chunks/pages/reserva-67227eeb5d711451.js'},{'revision':'1adb5d08edd03b6c','url':'/_next/static/chunks/pages/sales-1adb5d08edd03b6c.js'},{'revision':'794ff8676fe38363','url':'/_next/static/chunks/pages/tour-794ff8676fe38363.js'},{'revision':'a80a7a2907660f8f','url':'/_next/static/chunks/pages/transfer-a80a7a2907660f8f.js'},{'revision':'846118c33b2c0e922d7b3a7676f81f6f','url':'/_next/static/chunks/polyfills-42372ed130431b0a.js'},{'revision':'f5c9bbb7127d32ec','url':'/_next/static/chunks/webpack-f5c9bbb7127d32ec.js'},{'revision':'336cc0cab5b8cae8','url':'/_next/static/css/336cc0cab5b8cae8.css'},{'revision':'574b14c6ebb6d046c394dbeee9a54d17','url':'/_next/static/t77zyez90yXjYofvaZ_GA/_buildManifest.js'},{'revision':'b6652df95db52feb4daf4eca35380933','url':'/_next/static/t77zyez90yXjYofvaZ_GA/_ssgManifest.js'},{'revision':null,'url':'/agency/'},{'revision':null,'url':'/booking/'},{'revision':null,'url':'/calendar/'},{'revision':null,'url':'/confirmation/'},{'revision':null,'url':'/disponibilidad/'},{'revision':null,'url':'/pending-sales/'},{'revision':null,'url':'/rent/'},{'revision':null,'url':'/report/'},{'revision':null,'url':'/sales/'},{'revision':'e0bf51866fd89c3944e9487118234ea5','url':'/sw.js'},{'revision':null,'url':'/tour/'},{'revision':null,'url':'/transfer/'}]),workbox.routing.registerRoute(e=>{let{request:r}=e;return"navigate"===r.mode},new workbox.strategies.NetworkFirst({cacheName:"spa-pages",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:20,maxAgeSeconds:604800})]})),self.addEventListener("fetch",e=>{"navigate"===e.request.mode&&e.respondWith(fetch(e.request).catch(()=>caches.match("/index.html")))}),workbox.routing.registerRoute(/^https:\/\/admindemo\.paraisohuatulco\.com\/admin\/products\/getProductsMovil/,new workbox.strategies.CacheFirst({cacheName:"products-cache",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:50,maxAgeSeconds:604800})]})),workbox.routing.registerRoute(/^https:\/\/pwa\.paraisohuatulco\.com\/[a-zA-Z0-9_-]+\/$/,new workbox.strategies.CacheFirst({cacheName:"dynamic-pages",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:100,maxAgeSeconds:604800})]})),workbox.routing.registerRoute(e=>{let{request:r}=e;return"document"===r.destination},new workbox.strategies.CacheFirst({cacheName:"pages",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:50,maxAgeSeconds:604800})]})),workbox.routing.registerRoute(/\.(?:png|jpg|jpeg|svg|gif)$/,new workbox.strategies.CacheFirst({cacheName:"images",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:60,maxAgeSeconds:2592e3})]})),workbox.routing.registerRoute(/\.(?:js|css)$/,new workbox.strategies.CacheFirst({cacheName:"static-resources",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:60,maxAgeSeconds:86400})]})),self.addEventListener("install",e=>{self.skipWaiting()}),self.addEventListener("activate",e=>self.clients.claim());let e=async()=>await new Promise((e,r)=>{let o=indexedDB.open("offline-db",1);o.onupgradeneeded=e=>{let r=e.target.result;r.objectStoreNames.contains("reservas")||r.createObjectStore("reservas",{keyPath:"uuid"})},o.onsuccess=()=>e(o.result),o.onerror=()=>r(o.error)}),r=!1,o=async()=>{if(r)return void console.log("[SW] ⏳ Sincronizaci\xf3n ya en curso");r=!0;try{console.log("[SW] Enviando reservas offline al servidor...");let r=await e(),o=[];try{let e=r.transaction("reservas","readonly").objectStore("reservas").getAll();o=await new Promise((r,o)=>{e.onsuccess=e=>r(e.target.result),e.onerror=e=>o(e.target.error)})}catch(e){console.error("[SW] ❌ Error al leer reservas de IndexedDB:",e);return}if(console.log("[SW] Reservas encontradas para enviar: ".concat(o.length),o),0===o.length)return void console.log("[SW] No hay reservas offline para enviar.");for(let e of o)try{let o=new FormData;for(let r in e)void 0!==e[r]&&null!==e[r]&&o.append(r,e[r]);console.log("[SW] Intentando enviar reserva con UUID: ".concat(e.uuid)),console.log("data en el service worker",Array.from(o.entries()));let a=await fetch("https://portaldemo.paraisohuatulco.com/rents/booking",{method:"POST",body:o});if(a.ok)try{let o=r.transaction("reservas","readwrite"),a=o.objectStore("reservas").delete(e.uuid);await new Promise((e,r)=>{a.onsuccess=()=>e(),a.onerror=e=>r(e.target.error)}),await o.done,console.log("[SW] Reserva ".concat(e.uuid," eliminada de IndexedDB exitosamente.")),self.registration.showNotification("Reserva enviada",{body:"Tu reserva offline fue enviada correctamente.",icon:"/icon512_rounded.png"})}catch(r){console.error("[SW] ❌ Error al eliminar reserva ".concat(e.uuid," de IndexedDB:"),r)}else console.warn("[SW] ⚠️ Error del servidor al reenviar reserva ".concat(e.uuid,":"),a.status,a.statusText)}catch(r){console.error("[SW] ❌ Error de red al enviar reserva ".concat(e.uuid,":"),r)}console.log("[SW] Procesamiento de reservas offline completado.")}finally{r=!1}};self.addEventListener("message",e=>{var r;(null==(r=e.data)?void 0:r.action)==="force-sync-bookings"&&(console.log("[SW] \uD83D\uDD04 Forzando sincronizaci\xf3n manual"),e.waitUntil(o()))})})();